<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>æ­Œè©ç©ºæ ¼ç·¨è¼¯å™¨ Â· LouisLiao Piano é‹¼ç´ç·¨æ›²</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Noto Sans TC", sans-serif;
      background: #eee4d4;
      background-attachment: fixed;
    }

    .wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 32px 16px 80px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    /* LOGO å€å¡Š */
    .logo-bar {
      display: inline-block;
      background: #f7eddc;
      padding: 14px 26px;
      border-radius: 12px;
      font-size: 24px;
      font-weight: 700;
      color: #5a4630;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(0,0,0,.12);
      transition: transform .15s ease;
    }

    .logo-bar:hover {
      transform: translateY(-2px);
    }

    .subtitle {
      opacity: .85;
      font-size: 15px;
      margin-top: 8px;
      line-height: 1.6;
      color: #5d4c3c;
    }

    .panel {
      margin-top: 16px;
      display: grid;
      grid-template-columns: 1.3fr auto 1.3fr;
      gap: 24px;
      align-items: stretch;
    }

    textarea {
      width: 100%;
      min-height: 520px;
      border-radius: 24px;
      border: none;
      padding: 20px 22px;
      font-size: 18px;
      line-height: 1.8;
      resize: vertical;
      background: #ffffff;
      box-shadow: 0 8px 22px rgba(0,0,0,.15);
      outline: none;
      white-space: pre-wrap;
    }

    .btn-col {
      display: flex;
      flex-direction: column;
      gap: 22px;
      align-items: center;
      justify-content: center;
    }

    .btn {
      border: none;
      cursor: pointer;
      border-radius: 999px;
      padding: 16px 34px;
      font-size: 20px;
      font-weight: 800;
      color: #fff;
      box-shadow: 0 8px 20px rgba(0,0,0,.25);
      background: linear-gradient(135deg, #f7d7c4, #e3bfa6);
      transition: all .15s ease;
      white-space: nowrap;
      width: 160px;
      text-align: center;
    }

    .btn:hover { transform: translateY(-2px); }
    .btn:active { transform: translateY(0); }

    .btn.blue  { background: linear-gradient(135deg, #c6d7f2, #8baadd); }
    .btn.red   { background: linear-gradient(135deg, #f4b5b5, #da8c8c); }
    .btn.green { background: linear-gradient(135deg, #c9e4c5, #9fcaa1); }

    .footer-note {
      margin-top: 16px;
      font-size: 13px;
      opacity: .7;
      text-align: center;
    }

    @media (max-width: 900px) {
      .panel { grid-template-columns: 1fr; }
      textarea { min-height: 320px; }
      .btn-col {
        flex-direction: row;
        flex-wrap: wrap;
      }
    }


    /* ===================== */
    /* LINE æ¼‚æµ®å®¢æœæŒ‰éˆ•     */
    /* ===================== */

    .fab-wrapper {
      position: fixed;
      right: 24px;
      bottom: 24px;
      z-index: 999;
      font-family: inherit;
    }

    .fab-main {
      width: 60px;
      height: 60px;
      border-radius: 999px;
      background: linear-gradient(135deg, #5fc86e, #3aa94a);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 28px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, .25);
      cursor: pointer;
      transition: transform .2s ease, box-shadow .2s ease;
    }

    .fab-main:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 30px rgba(0,0,0,.3);
    }

    .fab-panel {
      position: absolute;
      right: 0;
      bottom: 72px;
      background: #ffffff;
      border-radius: 18px;
      padding: 12px 16px;
      box-shadow: 0 12px 30px rgba(0,0,0,.25);
      min-width: 170px;
      opacity: 0;
      pointer-events: none;
      transform: translateY(6px);
      transition: all .2s ease;
    }

    .fab-wrapper.open .fab-panel {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .fab-panel-title {
      font-size: 13px;
      color: #6b7280;
      margin-bottom: 8px;
    }

    .fab-link {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      padding: 6px 0;
      color: #374151;
    }

    .fab-link-icon {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: #06c755;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    .fab-link-label span:first-child { font-weight: 600; }
    .fab-link-label span:last-child {
      font-size: 12px;
      color: #9ca3af;
    }

    .fab-main span { transition: transform .2s ease; }
    .fab-wrapper.open .fab-main span { transform: rotate(45deg); }

  </style>
</head>


<body>

  <div class="wrap">

    <!-- LOGOï¼ˆå¯é»å›å®˜ç¶²ï¼‰ -->
    <a class="logo-bar" href="https://louisliaopiano.com" target="_blank">
      ğŸµ æ­Œè©ç©ºæ ¼ç·¨è¼¯å™¨ Â· LouisLiao Piano é‹¼ç´ç·¨æ›²
    </a>

    <div class="subtitle">
      âœ” ä¸­æ–‡ï¼šç§»é™¤æ¨™é»ï¼Œåªä¿ç•™å­—èˆ‡ç©ºç™½ï¼Œè‡ªå‹•åœ¨ç›¸é„°ä¸­æ–‡å­—åŠ å…¥ã€Œä¸€å­—ä¸€ç©ºæ ¼ã€ã€‚<br>
      âœ” è‹±æ–‡ï¼šä¿ç•™å–®å­—èˆ‡æ’‡è™Ÿï¼Œä¸æ‹†å­—ï¼Œåƒ…ç§»é™¤æ¨™é»ã€‚<br>
      âœ” æœ¬å·¥å…·å®Œå…¨åœ¨ç€è¦½å™¨é‹ç®—ï¼Œä¸æœƒä¸Šå‚³ä»»ä½•è³‡æ–™ã€‚
    </div>


    <div class="panel">
      <textarea id="inputLyrics" placeholder="åœ¨é€™è£¡è²¼ä¸ŠåŸå§‹æ­Œè©ï¼ˆä¸­è‹±çš†å¯ï¼‰"></textarea>

      <div class="btn-col">
        <button class="btn" id="btnPaste">è²¼ä¸Š</button>
        <button class="btn blue" id="btnConvert">è½‰æ›</button>
        <button class="btn" id="btnCopy">è¤‡è£½</button>
        <button class="btn red" id="btnClear">æ¸…ç©º</button>
        <button class="btn green" id="btnOneClick">ä¸€éµå®Œæˆ</button>
      </div>

      <textarea id="outputLyrics" placeholder="é€™è£¡æœƒé¡¯ç¤ºè™•ç†å¾Œçš„æ­Œè©â€¦" readonly></textarea>
    </div>

    <div class="footer-note">LouisLiao Piano Â© All Rights Reserved.</div>

  </div>



  <!-- =========================== -->
  <!-- LINE å®¢æœæµ®å‹•æŒ‰éˆ•          -->
  <!-- =========================== -->
  <div class="fab-wrapper" id="fabWrapper">
    <div class="fab-main" id="fabMain"><span>ï¼‹</span></div>

    <div class="fab-panel">
      <div class="fab-panel-title">è¯çµ¡ LouisLiao å®¢æœï¼š</div>

      <a class="fab-link" href="https://louisliaopiano.com/pages/llcs" target="_blank">
        <div class="fab-link-icon">L</div>
        <div class="fab-link-label">
          <span>LINE å®¢æœ</span>
          <span>é»æˆ‘å‰å¾€è¯çµ¡</span>
        </div>
      </a>
    </div>
  </div>



  <!-- =========================== -->
  <!-- ä¸»ç¨‹å¼ï¼šæ¨™é»è™•ç†ï¼‹ä¸­æ–‡åŠ ç©ºæ ¼ -->
  <!-- =========================== -->

  <script>
    function normalizeApostrophe(t) {
      return t.replace(/[â€™â€˜Ê¼Â´Ê»ï¼‡]/g, "'");
    }

    function removePunctuation(t) {
      return t.replace(/[^a-zA-Z0-9\u4E00-\u9FFF\s']/g, "");
    }

    function addCJKSpaces(t) {
      const isCJK = ch => /[\u4E00-\u9FFF]/.test(ch);
      return t.split("\n").map(line => {
        let out = "";
        const chars = [...line];
        for (let i = 0; i < chars.length; i++) {
          const curr = chars[i], next = chars[i+1];
          out += curr;
          if (next && isCJK(curr) && isCJK(next)) out += " ";
        }
        return out;
      }).join("\n");
    }

    function processLyrics(text) {
      let t = text;
      t = normalizeApostrophe(t);
      t = removePunctuation(t);
      t = addCJKSpaces(t);
      return t;
    }

    document.getElementById("btnConvert").addEventListener("click", () => {
      outputLyrics.value = processLyrics(inputLyrics.value);
    });

    document.getElementById("btnClear").addEventListener("click", () => {
      inputLyrics.value = "";
      outputLyrics.value = "";
    });

    document.getElementById("btnPaste").addEventListener("click", async () => {
      try {
        inputLyrics.value = await navigator.clipboard.readText();
      } catch {
        alert("ç„¡æ³•è®€å–å‰ªè²¼ç°¿ï¼Œè«‹æ‰‹å‹•è²¼ä¸Š");
      }
    });

    document.getElementById("btnCopy").addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(outputLyrics.value);
        alert("å·²è¤‡è£½ï¼");
      } catch {
        outputLyrics.select();
        document.execCommand("copy");
      }
    });

    document.getElementById("btnOneClick").addEventListener("click", async () => {
      try {
        const text = await navigator.clipboard.readText();
        inputLyrics.value = text;
        const processed = processLyrics(text);
        outputLyrics.value = processed;
        await navigator.clipboard.writeText(processed);
        alert("å·²å®Œæˆï¼šè²¼ä¸Š â†’ è½‰æ› â†’ è¤‡è£½");
      } catch {
        alert("ç„¡æ³•ä¸€éµå®Œæˆï¼Œè«‹æ‰‹å‹•æ“ä½œ");
      }
    });


    /* LINE æ¼‚æµ®æŒ‰éˆ•é–‹é—œ */
    const fabWrapper = document.getElementById("fabWrapper");
    const fabMain = document.getElementById("fabMain");

    fabMain.addEventListener("click", () => {
      fabWrapper.classList.toggle("open");
    });

    document.addEventListener("click", e => {
      if (!fabWrapper.contains(e.target)) fabWrapper.classList.remove("open");
    });
  </script>

</body>
</html>
